<div class="container py-5">
  <div class="card mx-auto" style="max-width:720px;">
    <div class="card-body">
      <h4 class="card-title mb-3">Schedule a Meeting</h4>

      <form (ngSubmit)="submit()" [formGroup]="form" novalidate>
        <div class="mb-3">
          <label>Client Email</label>
          <input formControlName="mail" type="email" class="form-control" placeholder="client@example.com" />
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label>Client name</label>
            <input formControlName="clientName" class="form-control" placeholder="John Doe" />
          </div>
          <div class="col-md-6 mb-3">
            <label>Title</label>
            <input formControlName="title" class="form-control" />
          </div>
        </div>

        <div class="mb-3">
          <label>Description</label>
          <input formControlName="description" class="form-control" />
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label>Start (local)</label>
            <input formControlName="dateTimeLocal" type="datetime-local" class="form-control" />
          </div>
          <div class="col-md-3 mb-3">
            <label>Duration (min)</label>
            <input formControlName="durationMin" type="number" class="form-control" />
          </div>
          <div class="col-md-3 mb-3">
            <label>Timezone</label>
            <input formControlName="timezone" class="form-control" />
          </div>
        </div>

        <div class="mb-3">
          <label>Optional uniqid</label>
          <input formControlName="uniqid" class="form-control" />
        </div>

        <button class="btn btn-primary" [disabled]="loading">Schedule & Send</button>
      </form>

      <div *ngIf="loading" class="mt-3">Workingâ€¦</div>

      <div *ngIf="result" class="alert alert-success mt-3">
        Mail sent.<br/>
        <strong>Meet URL:</strong> <a [href]="result.meetUrl" target="_blank">{{ result.meetUrl }}</a><br/>
        <small>eventId: {{result.eventId}}</small>
      </div>

      <div *ngIf="error" class="alert alert-danger mt-3">{{ error }}</div>

    </div>
  </div>
</div>
